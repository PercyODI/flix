<h1><%= pluralize(@movies.length, 'Movie') %></h1>

<% @movies.each do |movie| %>
    <article>
        <header>
            <h2><%= link_to(movie.title, movie_path(movie.id)) %></h2>
        </header>
        <p>
            <%= truncate(movie.description, length: 40, separator: ' ') %>
        </p>
        <table>
            <tr>
                <th>Released:</th>
                <td><%= movie.released_on %>
                    (<%= time_ago_in_words(movie.released_on) %> ago)
                </td>
            </tr>
            <tr>
                <th>Rating:</th>
                <td><%= movie.rating %></td>
            </tr>
            <tr>
                <th>Total Gross:</th>
                <td><%= format_total_gross(movie) %></td>
            </tr>
            <tr>
                <th>Cast:</th>
                <td><%= movie.cast %></td>
            </tr>
            <tr>
                <th>Director:</th>
                <td><%= movie.director %></td>
            </tr>
            <tr>
                <th>Duration:</th>
                <td><%= movie.duration %></td>
            </tr>
            <tr>
                <th>Image:</th>
                <td><%= image_for(movie) %></td>
            </tr>
        </table>
    </article>
<% end %>
<p>
    <%= link_to("Add New Movie", new_movie_path) %>
</p>

<%= render 'footer' %>